---
title: "Tarea 1"
output:
  html_document: default
  pdf_document: default
  html_notebook: default
---

# Inmuebles

```{r}
library(readxl)
BD_Inmuebles_1 <- read_excel("/home/dpreciado3/Documents/5O SEMESTRE/Estadistica/TareasEstadistica1/1/BD-Inmuebles-1.xls", 
    col_types = c("text", "text", "text", 
        "numeric", "numeric", "date", "text", 
        "text"))
BD_Inmuebles_1 <- data.frame(BD_Inmuebles_1)
```

### Clasificación de variables

-   Categóricas
    -   Tipo de inmueble (nominal)
    -   Operación (nominal)
    -   Provincia (nominal)
    -   Fecha venta (ordinal)
    -   Vendedor (nominal)
    -   Satisfacción (ordinal)
-   Numéricas
    -   Superficie (de razón)
    -   Precio Venta (de razón)

### Análisis de variable superficie

```{r}
# Medidas de tendencia central
# Media
Superficie_media <- mean(BD_Inmuebles_1$Superficie)
# Mediana
Superficie_mediana <- median(BD_Inmuebles_1$Superficie)
# Moda
# Dado que tratamos con una variable numérica, no tiene sentido poner la moda
# Percentiles
Superficie_percentiles <- quantile(BD_Inmuebles_1$Superficie)

#Medidas de dispersión
# Varianza
Superficie_var <- var(BD_Inmuebles_1$Superficie)
# Desviación estándar
Superficie_std <- sd(BD_Inmuebles_1$Superficie)
# Rango
Superficie_rango <- max(BD_Inmuebles_1$Superficie) - min(BD_Inmuebles_1$Superficie)
# Rango intercuartílico
Superficie_rangointer <- quantile(BD_Inmuebles_1$Superficie, 0.75) - quantile(BD_Inmuebles_1$Superficie, 0.25)
# Coeficiente de variación
Superficie_cv <- (Superficie_std / Superficie_media) * 100

# Percentil 0.76 de los registros del 2005
library(dplyr)
BD_Inmuebles_1_2005 <- BD_Inmuebles_1 %>% filter(between(Fecha.Venta, as.POSIXct('2005-01-01'), as.POSIXct('2005-12-31')))
Superficie_percentil76 <- quantile(BD_Inmuebles_1_2005$Superficie, 0.76)
```

Por lo tanto, las medidas de tendencia central son:

-   Media: `r toString(Superficie_media)`
-   Mediana: `r toString(Superficie_mediana)`
-   Percentiles: `r toString(Superficie_percentiles)`

Las de dispersión son:

-   Varianza: `r toString(Superficie_var)`
-   Desviación estándar: `r toString(Superficie_std)`
-   Rango: `r toString(Superficie_rango)`
-   Rango intercuartílico: `r toString(Superficie_rangointer)`
-   Coeficiente de variación: `r toString(Superficie_cv)`

Además, el percentil 0.76 de los registros correspondientes a ventas del año 2005 es `r toString(Superficie_percentil76)`.

### Año con mayor ingreso

```{r}
BD_Inmuebles_1_Yr <- filter(BD_Inmuebles_1, Operación == "Alquiler")
BD_Inmuebles_1_Yr$Fecha.Venta <- format(as.POSIXct(BD_Inmuebles_1_Yr$Fecha.Venta), "%Y")
BD_Inmuebles_1_Ingresos_Anuales <- BD_Inmuebles_1_Yr %>% group_by(Fecha.Venta) %>% summarise(Ventas = sum(Precio.Venta))
Max_Yr <- BD_Inmuebles_1_Ingresos_Anuales[which.max(BD_Inmuebles_1_Ingresos_Anuales$Ventas),1]
```

Por lo tanto el año con mayor ingreso fue `r toString(Max_Yr)`.

### Boxplot Precio-Venta

```{r}
boxplot(data = BD_Inmuebles_1_Yr, Precio.Venta ~ Fecha.Venta, xlab = "Año", ylab = "Precio")
```

### Coeficiente de correlación

```{r}
BD_Inmuebles_1_Venta <- filter(BD_Inmuebles_1, Operación == "Venta")
BD_Inmuebles_1_Alquiler <- filter(BD_Inmuebles_1, Operación == "Alquiler")
Cor_Superficie_Precio_Venta <- cor(BD_Inmuebles_1_Venta$Superficie, BD_Inmuebles_1_Venta$Precio.Venta)
Cor_Superficie_Precio_Alquiler <- cor(BD_Inmuebles_1_Alquiler$Superficie, BD_Inmuebles_1_Alquiler$Precio.Venta)
```

Por lo tanto, el coeficiente de correlación entre las variables Superficie y Precio-Venta es de `r toString(Cor_Superficie_Precio_Venta)` en el caso de las operaciones de venta y `r toString(Cor_Superficie_Precio_Alquiler)` en el caso de las operaciones de alquiler.

Considerando que el valor del coeficiente de correlación se mueve entre 0 y 1, diría que los valores obtenidos nos dicen que existe una correlación importante entre las variables.

# Fútbol
